{"version":3,"sources":["js/menu.js"],"names":["navigation","$navTrigger","document","querySelector","$navTrigger2","$nav","$navItems","querySelectorAll","$main","transitionEnd","isOpeningNav","init","self","style","overflow","height","window","addEventListener","e","scrollY","setTimeout","openNavigation","preventDefault","classList","contains","scroll","top","left","behavior","closeNavigation","scroll_to","forEach","navLink","el","remove","add","transitionPage","click","body","removeProperty","removeAttribute","propertyName","documentElement","$","ready","on","event","id","attr","offset","animate","scrollTop"],"mappings":"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","file":"menu.0c91648c.js","sourceRoot":"..","sourcesContent":["let navigation = {\r\n    // Variables\r\n    $navTrigger: document.querySelector('.nav__trigger', '.bars_trigger'),\r\n    $navTrigger2: document.querySelector('.menu'),\r\n    $nav: document.querySelector('.nav'),\r\n    $navItems: document.querySelectorAll('.nav__item a'),\r\n    $main: document.querySelector('.main'),\r\n    transitionEnd: 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend',\r\n    isOpeningNav: false,\r\n\r\n    init() {\r\n        let self = this;\r\n\r\n        // Reset overflow and height on load\r\n        self.$main.style.overflow = 'auto';\r\n        self.$main.style.height = 'auto';\r\n\r\n\r\n        // Handle scroll events\r\n        window.addEventListener('scroll', (e) => {\r\n            if (window.scrollY == 0 && self.isOpeningNav) {\r\n                self.isOpeningNav = false;\r\n\r\n                // Add a small delay\r\n                setTimeout(function () {\r\n                    self.openNavigation();\r\n                }, 150);\r\n            }\r\n        });\r\n\r\n        // Handle .nav__trigger click event\r\n        self.$navTrigger.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            if (!self.$navTrigger.classList.contains('is-active')) {\r\n                if (window.scrollY !== 0) {\r\n                    // Scroll to top\r\n                    window.scroll({\r\n                        top: 0,\r\n                        left: 0,\r\n                        behavior: 'smooth'\r\n                    });\r\n\r\n                    // Enable opening nav\r\n                    self.isOpeningNav = true;\r\n                } else {\r\n                    self.openNavigation();\r\n                }\r\n            } else {\r\n                self.closeNavigation();\r\n                scroll_to();\r\n            }\r\n\r\n        });\r\n\r\n        self.$navTrigger2.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            if (!self.$navTrigger2.classList.contains('is-active')) {\r\n                if (window.scrollY !== 0) {\r\n                    // Scroll to top\r\n                    window.scroll({\r\n                        top: 0,\r\n                        left: 0,\r\n                        behavior: 'smooth'\r\n                    });\r\n\r\n                    // Enable opening nav\r\n                    self.isOpeningNav = true;\r\n                } else {\r\n                    self.openNavigation();\r\n                }\r\n            } else {\r\n                self.closeNavigation();\r\n            }\r\n        });\r\n\r\n        // Handle .nav__item click events\r\n        self.$navItems.forEach((navLink) => {\r\n            navLink.addEventListener('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                // Remove is-active from all .nav__items\r\n                self.$navItems.forEach((el) => {\r\n                    el.classList.remove('is-active');\r\n                });\r\n\r\n                // Ad is-active to clicked .nav__item\r\n                this.classList.add('is-active');\r\n\r\n                // Transition the page\r\n                self.transitionPage();\r\n                this.click();\r\n            });\r\n        });\r\n    },\r\n\r\n    openNavigation() {\r\n        let self = this;\r\n\r\n        // .nav--trigger active\r\n        self.$navTrigger.classList.add('is-active');\r\n\r\n        // body froze\r\n        document.body.classList.add('is-froze');\r\n\r\n        // Remove old inline styles\r\n        if (self.$main.style.removeProperty) {\r\n            self.$main.style.removeProperty('overflow');\r\n            self.$main.style.removeProperty('height');\r\n        } else {\r\n            self.$main.style.removeAttribute('overflow');\r\n            self.$main.style.removeAttribute('height');\r\n        }\r\n\r\n        // .main active\r\n        self.$main.classList.add('is-active');\r\n    },\r\n\r\n    closeNavigation() {\r\n        let self = this;\r\n\r\n        // .nav--trigger inactive\r\n        self.$navTrigger.classList.remove('is-active');\r\n\r\n        // .main inactive\r\n        self.$main.classList.remove('is-active');\r\n        self.$main.addEventListener('transitionend', (e) => {\r\n            if (e.propertyName == 'transform' && !self.$navTrigger.classList.contains('is-active')) {\r\n                // Reset overflow and height\r\n                self.$main.style.overflow = 'auto';\r\n                self.$main.style.height = 'auto';\r\n\r\n                // body unfroze\r\n                document.body.classList.remove('is-froze');\r\n            }\r\n        });\r\n\r\n        // no-csstransitions fallback\r\n        if (document.documentElement.classList.contains('no-csstransitions')) {\r\n            // .main inactive\r\n            self.$main.classList.remove('is-active');\r\n\r\n            // body unfroze\r\n            document.body.classList.remove('is-froze');\r\n        }\r\n    },\r\n\r\n    transitionPage() {\r\n        let self = this;\r\n\r\n        // .main transitioning\r\n        self.$main.classList.add('is-transition-out');\r\n        self.$main.addEventListener('transitionend', (e) => {\r\n            if (e.propertyName == 'clip-path') {\r\n                if (self.$main.classList.contains('is-transition-in')) {\r\n                    self.$main.classList.remove('is-transition-in');\r\n                    self.$main.classList.remove('is-transition-out');\r\n                    self.closeNavigation();\r\n                }\r\n\r\n                if (self.$main.classList.contains('is-transition-out')) {\r\n                    self.$main.classList.remove('is-transition-out');\r\n\r\n                    // Add new content to .main\r\n\r\n                    setTimeout(function () {\r\n                        self.$main.classList.add('is-transition-in');\r\n                    }, 500);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nnavigation.init();\r\n\r\n$(document).ready(function () {\r\n    $(\".nav__list\").on(\"click\", \"a\", function (event) {\r\n        // console.log(this);\r\n        //отменяем стандартную обработку нажатия по ссылке\r\n        event.preventDefault();\r\n\r\n        //забираем идентификатор блока с атрибута href\r\n        let id = $(this).attr('href'),\r\n\r\n            //узнаем высоту от начала страницы до блока на который ссылается якорь\r\n            top = $(id).offset().top + 100;\r\n        //анимируем переход на расстояние - top за 1500 мс\r\n        $('body,html').animate({\r\n            scrollTop: top\r\n        }, 1500);\r\n    });\r\n});"]}